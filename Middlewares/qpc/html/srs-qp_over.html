<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QP/C: Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="spexy-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectlogo">
    <a href="https://www.state-machine.com" title="Quantum Leaps"><img alt="Logo" src="logo_ql.webp"/></a>
  </div>
   <div id="projectname">
    QP/C
    &nbsp;<span id="projectnumber">8.0.2</span>
   </div>
   <div id="projectbrief">Real-Time Embedded Framework</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('srs-qp_over.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Overview</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><span class="prev_button"><a class="el" href="srs-qp.html#srs-qp_scope">Purpose and Scope</a></span><span class="next_button"><a class="el" href="srs-qp_ao.html">Active Objects</a></span> </p><div style="clear:both"></div> <p><b>QP Framework</b> is a lightweight implementation of the <a class="el" href="srs-qp_ao.html#srs-qp_ao-model">Active Object model of computation</a> specifically tailored for real-time embedded (RTE) systems. QP is both an event-driven software infrastructure for building applications consisting of <a class="el" href="srs-qp_ao.html#srs-qp_ao-def">Active Objects</a> (Actors) and a runtime environment for executing the Active Objects in a safe and deterministic fashion. Additionally, QP Framework supports <a class="el" href="srs-qp_sm.html#srs-qp_sm-hsm">Hierarchical State Machines</a> with which to specify the behavior of Active Objects <a class="el" href="srs-qp.html#srs-qp_ref">[ROOM:94], [UML 2.5], [Sutter:10]</a>.</p>
<h1><a class="anchor" id="srs-qp_over-goals"></a>
Goals</h1>
<p>The main goals of the QP Framework are:</p><ul>
<li>to provide a modern, event-driven model of concurrency based on the <b>best practices of concurrent programming</b> <a class="el" href="srs-qp.html#srs-qp_ref">[Sutter:10], [Cummings:10], [ROOM:94],</a> collectively known as the <a class="el" href="srs-qp_ao.html#srs-qp_ao-model">Active Object (Actor) model of computation</a>;</li>
<li>to provide an <b>inherently safer</b> concurrent programming model than the traditional "shared-state concurrency, mutual-exclusion, and blocking" approach based on a conventional Real-Time Operating System (RTOS);</li>
<li>to provide a <b>higher-level of abstraction</b> closer to the problem domain than the "naked" RTOS threads;</li>
<li>to provide the <b>right abstractions</b> for applying modern techniques like <a class="el" href="srs-qp_sm.html#srs-qp_sm-hsm">Hierarchical State Machines</a>, visual modeling, and automatic code generation;</li>
<li>to <b>bridge the semantic gap</b> between the higher level UML concepts (such as <a class="el" href="srs-qp_evt.html">Events</a>, <a class="el" href="srs-qp_sm.html">Hierarchical State Machines</a>, and <a class="el" href="srs-qp_ao.html">Active Objects</a>) and the traditional programming languages like C or C++.</li>
</ul>
<h1><a class="anchor" id="srs-qp_over-ctxt"></a>
Context of Use</h1>
<p>The following block diagram shows the context of use and the high-level functional decomposition of a system built with the QP Framework.</p>
<p><a class="anchor" id="srs-qp_fig-blk"></a></p><div class="image">
<object type="image/svg+xml" data="srs-qp_blk.svg" width="1500px" style="pointer-events: none;"></object>
</div>
  <div class="caption"><center><em>Figure SRS-BLK: Block diagram showing the context and functional decomposition of a system based on QP Framework.</em></center></div><p><code>[1]</code> <b>QP Application</b> consists of event-driven <a class="el" href="srs-qp_ao.html">Active Objects</a> that collectively deliver the intended functionality.</p>
<p><code>[2]</code> <b>QP Framework</b>:</p><ul>
<li>executes <a class="el" href="srs-qp_ao.html">Active Objects</a> by dispatching <a class="el" href="srs-qp_evt.html">Events</a> to their internal <a class="el" href="srs-qp_sm.html">State Machines</a>;</li>
<li><a class="el" href="srs-qp_edm.html">delivers Events</a>;</li>
<li><a class="el" href="srs-qp_emm.html">manages memory for the mutable events</a>;</li>
<li>provides <a class="el" href="srs-qp_tm.html">timing services</a>;</li>
<li>provides Functional Safety Subsystem for self-monitoring, error handling, and fault prevention both for QP Framework and QP Application;</li>
<li>provides <a class="el" href="srs-qp_qs.html">software tracing system</a> for debugging, optimizing, and testing.</li>
</ul>
<p><code>[3a]</code> <b>Real-Time Kernel</b> provides scheduling and execution context for the Active Objects. This could be one of the kernels built-into QP Frameworks (<a class="el" href="srs-qp_qv.html">QV</a>, <a class="el" href="srs-qp_qk.html">QK</a>, or <a class="el" href="srs-qp_qxk.html">QXK</a>); or</p>
<p><code>[3b]</code> Alternatively, QP Framework can run on top of a 3-rd party <b>RTOS kernel</b>; or</p>
<p><code>[3c]</code> Alternatively, QP Framework can run on top of a <b>General-Purpose OS</b> (e.g., Linux/POSIX or Windows);</p>
<p><code>[4]</code> <b>Board Support Package (BSP)</b> consists of the low-level support code;</p>
<p><code>[5]</code> <b>Target Hardware</b> (MCU + external components).</p>
<h2><a class="anchor" id="srs-qp_over_inv"></a>
Inversion of Control</h2>
<p>Like most event-driven systems, QP Framework is based on <a class="el" href="srs-qp_ao.html#srs-qp_ao-inv">inversion of control</a>, which means that the control of code execution resides in the QP Framework rather than the QP Application based on QP. Specifically, to handle events, QP Framework calls the QP Application, and not the other way around. Of course, QP Applications can also call services provided in QP Framework, but the <em>main</em> flow of control always begins with the QP Framework.</p>
<h2><a class="anchor" id="srs-qp_over_frame"></a>
Framework, NOT a Library</h2>
<p>That <em>inversion of control</em> gives the event-driven infrastructure (QP) all the defining characteristics of a <a class="el" href="srs-qp_ao.html#srs-qp_ao-frame">framework</a> rather than a library.</p>
<p>The main difference between a framework and a library is that when you use a library, such as a conventional RTOS, <em>you</em> write the main body of each thread, and <em>you</em> call the library code that you want to reuse (e.g., a semaphore). When you use a framework, such as QP, you reuse the main body and write the code <em>it</em> calls (inversion of control).</p>
<h2><a class="anchor" id="srs-qp_over-derive"></a>
Deriving Application from a Framework</h2>
<p>The mechanism for <b>deriving an application</b> from a software framework, such as QP, is by <em>inheriting</em> the base classes provided by the framework and <em>specializing</em> them for the application at hand. (See also the <b>extensibility</b> characteristics of a framework enumerated above.)</p>
<h1><a class="anchor" id="srs-qp_over-use"></a>
Main Use Case</h1>
<p>The use case diagram depicted in <a class="el" href="#srs-qp_fig-use">Figure SRS-USE</a> shows the main users and typical use cases they engage in.</p>
<p><a class="anchor" id="srs-qp_fig-use"></a></p><div class="image">
<object type="image/svg+xml" data="srs-qp_use.svg" width="1500px" style="pointer-events: none;"></object>
</div>
  <div class="caption"><center><em>Figure SRS-USE: Users and main use cases of QP Application and QP Framework.</em></center></div><h1><a class="anchor" id="srs-qp_over-conf"></a>
Portability &amp; Configurability</h1>
<p>A reusable architecture for embedded systems, like QP, needs to be adaptable to a wide range of application areas and target hardware selections. For that, QP needs to be highly configurable. Whenever this requirements specification mentions "configurability", it explicitly specifies which of the following types of configurability is required:</p>
<h2><a class="anchor" id="srs-qp_conf_compile"></a>
Compile-Time Configurability</h2>
<p>Compile-time configurability means that the specific configuration option (out of a given range of possibilities) is chosen at compile-time and cannot be changed later (e.g., at run-time). Compile-time configurability is typically used for:</p>
<ul>
<li>Turning features on or off</li>
<li>Determining the size (and dynamic range) of various data types</li>
<li>Determining the maximum numbers of various objects in the framework or Application</li>
<li>Determining the presence (or absence) of class members</li>
</ul>
<dl class="section remark"><dt>Remarks</dt><dd>In C or C++, compile-time configurability is typically implemented with the preprocessor macros, but can also be achieved by composition of the selected modules.</dd></dl>
<h2><a class="anchor" id="srs-qp_conf_run"></a>
Run-Time Configurability</h2>
<p>Run-time configurability means that the specific configuration option is chosen at run-time. Unlike compile-time configurability, run-time configurability is finer granularity, usually on an object-by-object basis. It is typically used for:</p>
<ul>
<li>Choosing a specific implementation of a class operation based on the object type (polymorphism)</li>
<li>Selecting features by calling or not calling the specific QP API</li>
<li>Selecting features by passing parameters to the specific QP API</li>
</ul>
<p><span class="prev_button"><a class="el" href="srs-qp.html#srs-qp_scope">Purpose and Scope</a></span><span class="next_button"><a class="el" href="srs-qp_ao.html">Active Objects</a></span>   </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="srs-qp.html">Software Requirements Specification</a></li>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2025 Quantum Leaps</a> &nbsp;|&nbsp; <a title="help" href="help.html">Using Online Help</a> &nbsp;|&nbsp; <b>QP/C 8.0.2</b> &nbsp;|&nbsp; created with <a title="Spexygen: traceable specifications" href="https://github.com/QuantumLeaps/spexygen"><em>Spexygen</em></a>
<hr class="footer"/><address class="footer"><small>
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2025 Quantum Leaps</a> &nbsp;|&nbsp; <a title="help" href="help.html">Using Online Help</a> &nbsp;|&nbsp; <b>QP/C 8.0.2</b> &nbsp;|&nbsp; created with <a title="Spexygen: traceable specifications" href="https://github.com/QuantumLeaps/spexygen"><em>Spexygen</em></a>
</small></address>
    </li>
  </ul>
</div>
</body>
</html>
