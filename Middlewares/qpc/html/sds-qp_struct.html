<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QP/C: Structure Viewpoint</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="spexy-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectlogo">
    <a href="https://www.state-machine.com" title="Quantum Leaps"><img alt="Logo" src="logo_ql.webp"/></a>
  </div>
   <div id="projectname">
    QP/C
    &nbsp;<span id="projectnumber">8.0.2</span>
   </div>
   <div id="projectbrief">Real-Time Embedded Framework</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('sds-qp_struct.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Structure Viewpoint</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><span class="prev_button"><a class="el" href="sds-qp.html#sds-qp_scope">Purpose and Scope</a></span><span class="next_button"><a class="el" href="sds-qp_inter.html">Interaction Viewpoint</a></span> </p><div style="clear:both"></div> <p><b>Structure Viewpoint</b> elaborates the base classes and interfaces identified in the architecture <a class="el" href="sas-qp_ctxt.html">Context Viewpoint</a> with their design details and structural static relationships. The Structure Design Viewpoint also provides examples of using the QP Framework classes in QP Applications and is used to address the following concerns:</p><ul>
<li>packages and classes</li>
<li>interfaces</li>
<li>functionality and responsibilities</li>
<li>data structures</li>
<li>control flow</li>
<li>concurrency and parallelism</li>
<li>resource management</li>
</ul>
<p>The <b>model kind</b> used to illustrate the Structure Viewpoint is the UML class diagram shown in <a class="el" href="#sds-qp_fig-cls">Figure SDS-CLS</a> (static view). It depicts base classes comprising QP Framework and their specializations in the QP Application shown at the bottom of <a class="el" href="#sds-qp_fig-cls">Figure SDS-CLS</a>.</p>
<p><a class="anchor" id="sds-qp_fig-cls"></a></p><div class="image">
<object type="image/svg+xml" data="sds-qp_cls.svg" width="1500px" style="pointer-events: none;"></object>
</div>
  <div class="caption"><center><em>Figure SDS-CLS: Core classes in QP Framework and their relation to QP Application.</em></center></div><h1><a class="anchor" id="sds-qp_lay"></a>
Sub-Layer View</h1>
<p>The Sub-Layer View view in the Structure Viewpoint focuses on the internal layering of the QP Framework, which has the following objectives:</p><ul>
<li>promote modularity.</li>
<li>separation of concerns into <em>passive</em> and <em>active</em> elements.</li>
<li>enable QP Application to use of only the <a class="el" href="#SDS_QP_QEP">passive layer</a> without pulling in any of the <a class="el" href="#SDS_QP_QF">Active Object layer</a>.</li>
</ul>
<p><a id="a127_SDS_5FQP_5FQEP" name="a127_SDS_5FQP_5FQEP"></a> </p>
<h2><a class="anchor" id="SDS_QP_QEP"></a>
SDS_QP_QEP</h2>
<table class="doxtable">
<tr>
<td style="text-align:left; width:var(--content-maxwidth)"><p class="starttd"><b>SDS_QP_QEP</b>: <em>QEP Event Processor</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><p class="starttd"><b>Description</b><br  />
</p>
<p class="endtd"><em>QEP Event Processor</em> sub-layer of QP Framework (see <a class="el" href="#sds-qp_fig-cls">Figure SDS-CLS [10]</a>) implements <a class="el" href="srs-qp_evt.html">Events</a> and <em>passive</em> <a class="el" href="srs-qp_sm.html">State Machines</a>. </p><dl class="section note"><dt>Note</dt><dd>QEP Event Processor is intentionally separated out to allow QP Applications to directly use just the <b>passive</b> state machines (without <a class="el" href="#SDS_QP_QF">Active Objects</a>). QP Applications that use just the QEP Event Processor can still benefit from the <a href="https://www.state-machine.com/qm" target="_blank" rel="noopener">QM modeling tool&uarr;</a>, which can generate code that requires only passive state machines. </dd></dl>
</td></tr>
<tr>
<td><p class="starttd"><b>Backward Traceability</b><br  />
</p>
<ul>
<li><a class="el" href="sas-qp_ctxt.html#SAS_QP_FRM">SAS_QP_FRM</a>: <em>QP Framework layer</em></li>
<li><a class="el" href="srs-qp_nf.html#SRS_QP_NF_04">SRS_QP_NF_04</a>: <em>QP Framework shall be layered.</em> </li>
</ul>
</td></tr>
<tr>
<td><p class="starttd"><b>Forward Traceability (truncated to 1 level(s))</b><br  />
</p>
<ul>
<li><a class="el" href="struct_q_evt.html">QEvt</a>: <em>Event class</em></li>
<li><a class="el" href="struct_q_asm.html">QAsm</a>: <em>Abstract State Machine class (state machine interface)</em></li>
<li><a class="el" href="struct_q_hsm.html">QHsm</a>: <em>Hierarchical State Machine class (QHsm-style state machine implementation strategy)</em></li>
<li><a class="el" href="struct_q_msm.html">QMsm</a>: <em>Hierarchical State Machine class (QMsm-style state machine implementation strategy)</em> </li>
</ul>
</td></tr>
</table>
<p><a id="a128_SDS_5FQP_5FQF" name="a128_SDS_5FQP_5FQF"></a> </p>
<h2><a class="anchor" id="SDS_QP_QF"></a>
SDS_QP_QF</h2>
<table class="doxtable">
<tr>
<td style="text-align:left; width:var(--content-maxwidth)"><p class="starttd"><b>SDS_QP_QF</b>: <em>QF Active Object Framework</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><p class="starttd"><b>Description</b><br  />
</p>
<p class="endtd"><em>QF Active Object Framework</em> sub-layer of QP Framework (see <a class="el" href="#sds-qp_fig-cls">Figure SDS-CLS [20]</a>) implements <a class="el" href="srs-qp_ao.html">Active Objects</a> and <a class="el" href="srs-qp_tm.html">Time Events</a>. </p><dl class="section note"><dt>Note</dt><dd>QF Active Object Framework requires the <a class="el" href="#SDS_QP_QEP">QEP Event Processor</a> to provide events and implement the state machine behavior of Active Objects. </dd></dl>
</td></tr>
<tr>
<td><p class="starttd"><b>Backward Traceability</b><br  />
</p>
<ul>
<li><a class="el" href="sas-qp_ctxt.html#SAS_QP_FRM">SAS_QP_FRM</a>: <em>QP Framework layer</em></li>
<li><a class="el" href="srs-qp_nf.html#SRS_QP_NF_04">SRS_QP_NF_04</a>: <em>QP Framework shall be layered.</em> </li>
</ul>
</td></tr>
<tr>
<td><p class="starttd"><b>Forward Traceability (truncated to 1 level(s))</b><br  />
</p>
<ul>
<li><a class="el" href="struct_q_p_set.html">QPSet</a>: <em>Set of Active Objects of up to <a class="el" href="qp__config_8h.html#a776d2a032974db4bf9bcfde01ace1389" title="Maximum # Active Objects in the system (1..64)">QF_MAX_ACTIVE</a> elements</em></li>
<li><a class="el" href="struct_q_subscr_list.html">QSubscrList</a>: <em>Subscriber List (for publish-subscribe)</em></li>
<li><a class="el" href="struct_q_active.html">QActive</a>: <em>Active object class (based on the <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> implementation strategy)</em></li>
<li><a class="el" href="struct_q_m_active.html">QMActive</a>: <em>Active object class (based on <a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a> implementation strategy)</em></li>
<li><a class="el" href="struct_q_ticker.html">QTicker</a>: <em>"Ticker" Active Object class</em></li>
<li><a class="el" href="class_q_f.html#adac7eccb860d910c4e446d3143798bba">QF::QF_init()</a>: <em><a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> initialization</em></li>
<li><a class="el" href="class_q_f.html#adf9cb86740bf55c5ad55c1d44fd35921">QF::QF_stop()</a>: <em>Invoked by the application layer to stop the <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> framework and return control to the OS/Kernel (used in some <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> ports)</em></li>
<li><a class="el" href="class_q_f.html#a779a1bc9482e2d489dc87751cd100fdb">QF::QF_run()</a>: <em>Transfers control to <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> to run the application</em></li>
<li><a class="el" href="class_q_f.html#a29692c0dcab731199b5beb5847484ab7">QF::QF_getQueueMin()</a>: <em>This function returns the minimum of free entries of the given event queue</em></li>
<li><a class="el" href="class_q_f.html#a189a6d2ece787717c81fbf51fd180732">QF::QF_onStartup()</a>: <em>Startup <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> callback</em></li>
<li><a class="el" href="class_q_f.html#a5d7e181f2e679e1fa77c1e915fbee3e0">QF::QF_onCleanup()</a>: <em>Cleanup <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> callback</em></li>
<li><a class="el" href="class_q_f.html#a1c4fc5636c2bc2e9d47e958aac05b8e1">QF::QF_poolInit()</a>: <em>Event pool initialization for dynamic allocation of events</em></li>
<li><a class="el" href="class_q_f.html#a92f6caf14f52d95b7d8bfc39d1656fe3">QF::QF_getPoolMin()</a>: <em>Obtain the minimum of free entries of the given event pool</em></li>
<li><a class="el" href="class_q_f.html#ad3bc25ebbfc2c2c433f8762a77136366">QF::QF_newX_()</a>: <em>Internal <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> implementation of creating new mutable (dynamic) event</em></li>
<li><a class="el" href="class_q_f.html#a7aa4e9d39b8af089405cb829e2cc5a24">QF::QF_gc()</a>: <em>Recycle a mutable (mutable) event</em></li>
<li><a class="el" href="class_q_f.html#aee4449d368362c7fc1d1ddc258027d53">QF::QF_newRef_()</a>: <em>Internal <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> implementation of creating new event reference</em></li>
<li><a class="el" href="class_q_f.html#aebb373ddc448c4198e4247b6c6ff3e69">QF::QF_deleteRef_()</a>: <em>Internal <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> implementation of deleting event reference</em></li>
<li><a class="el" href="class_q_f.html#a967a2e62ed579b0e9084e1f3b82665a2">QF::QF_onContextSw()</a>: <em><a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> context switch callback used in built-in kernels (QV/QK/QXK)</em></li>
<li><a class="el" href="qp_8h.html#a85513d80fc73d015efff2596428e4703">Q_NEW</a>: <em>Allocate a mutable (dynamic) event</em></li>
<li><a class="el" href="qp_8h.html#a9da2c27f98ee35a75caeec5710bafb8a">Q_NEW_X</a>: <em>Non-asserting allocate a mutable (dynamic) event</em></li>
<li><a class="el" href="qp_8h.html#a10162978b156ab5d2fd2e3a7aa744ac0">Q_NEW_REF</a>: <em>Create a new reference of the current event <code>e</code></em></li>
<li><a class="el" href="qp_8h.html#aaed009a86c52cf2b8d811389fabb5f23">Q_DELETE_REF</a>: <em>Delete the event reference</em> </li>
</ul>
</td></tr>
</table>
<h1><a class="anchor" id="sds-qp_cls"></a>
Class View</h1>
<p>The Class View in the Structure Viewpoint focuses on the following key design concerns:</p><ul>
<li>describing the <em>logical structure</em> and organization of the system, including the identification of classes and their relationships.</li>
<li>defining the QP Framework <em>base classes</em> that are the basis for <a class="el" href="srs-qp_over.html#srs-qp_over-derive">derivation of QP Applications</a> from the framework.</li>
<li>describing the <em>responsibilities</em> of each class to achieve high cohesion within a class and loose coupling among classes.</li>
<li>defining the <em>inheritance hierarchies</em> and <em>polymorphic behavior</em> to promote reuse and flexibility.</li>
<li>ensuring data <em>encapsulation</em> within classes to maintain safety, integrity, and security.</li>
</ul>
<p><a id="a129_SDS_5FQP_5FQEvt" name="a129_SDS_5FQP_5FQEvt"></a> </p>
<h2><a class="anchor" id="SDS_QP_QEvt"></a>
SDS_QP_QEvt</h2>
<table class="doxtable">
<tr>
<td style="text-align:left; width:var(--content-maxwidth)"><p class="starttd"><b>SDS_QP_QEvt</b>: <em><a class="el" href="struct_q_evt.html" title="Event class.">QEvt</a> event class.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><p class="starttd"><b>Description</b><br  />
</p>
<p class="endtd">The <a class="el" href="struct_q_evt.html" title="Event class.">QEvt</a> class (see <a class="el" href="#sds-qp_fig-cls">Figure SDS-CLS [11]</a>) represents both immutable and mutable events in QP Framework. It can be instantiated directly (concrete class), in which case it represents events <em>without parameters</em>. QP Applications can also inherit and extend <a class="el" href="struct_q_evt.html" title="Event class.">QEvt</a> to add custom <a class="el" href="srs-qp_evt.html#srs-qp_evt-par">event parameters</a>. </p><dl class="section attention"><dt>Attention</dt><dd>Event parameters must be included in the event instance <em>directly</em>. Therefore, the <a class="el" href="struct_q_evt.html" title="Event class.">QEvt</a> sublcasses are restricted to have both "standard layout" and be "trivially copyable".  In QP this means that <a class="el" href="struct_q_evt.html" title="Event class.">QEvt</a> sublcasses should:<ul>
<li>contain <b>NO pointers</b> (including NO virtual pointer); The only exception is passing an <em>opaque</em> pointer to Active Object intended as the recipient of future events.  </li>
</ul>
</dd></dl>
</td></tr>
<tr>
<td><p class="starttd"><b>Event Attributes</b><br  />
</p>
<p class="endtd">The <a class="el" href="struct_q_evt.html" title="Event class.">QEvt</a> class has the following data attributes:</p><ul>
<li><a class="el" href="srs-qp_evt.html#srs-qp_evt-sig">event signal</a> of type <a class="el" href="qp_8h.html#af55248e13cdc5784f0824c7615c41b7d" title="The signal of event QEvt.">QSignal</a> with compile-time configurable dynamic range</li>
<li>event reference counter with dynamic range 0 .. (2 * <a class="el" href="qp__config_8h.html#a776d2a032974db4bf9bcfde01ace1389" title="Maximum # Active Objects in the system (1..64)">QF_MAX_ACTIVE</a>). For <a class="el" href="srs-qp_emm.html#srs-qp_emm-mut">mutable events</a>, the reference counter stores the number of outstanding references to that event instance. For <a class="el" href="srs-qp_emm.html#srs-qp_emm-imm">immutable events</a>, the reference counter is fixed at 1.</li>
<li>event tag with two fileds:<ul>
<li>bits 4-7 store the event pool ID of the event (for dynamic events) and fixed at 0 for immutable events.</li>
<li>bits 0-3 implement the Safety Function described below: </li>
</ul>
</li>
</ul>
</td></tr>
<tr>
<td><p class="starttd"><b>Safety Function</b><br  />
</p>
<p class="endtd">The <a class="el" href="struct_q_evt.html" title="Event class.">QEvt</a> class implements the Duplicate Inverse Storage technique for data integrity self-monitoring of the volatile <a class="el" href="struct_q_evt.html#a877dd7cab201e3fa2fe957ab36a18f2a" title="Event reference counter.">QEvt::refCtr_</a> reference counter attribute. For memory efficiency, only 4 least-significant bits 0:3 of the reference counter are monitored in bits 0:3 of the ::QEvt::evtTag_ attribute. </p>
</td></tr>
<tr>
<td><p class="starttd"><b>Backward Traceability</b><br  />
</p>
<ul>
<li><a class="el" href="srs-qp_evt.html#SRS_QP_EVT_00">SRS_QP_EVT_00</a>: <em>QP Framework shall provide Event abstraction to QP Application</em></li>
<li><a class="el" href="srs-qp_evt.html#SRS_QP_EVT_20">SRS_QP_EVT_20</a>: <em>Each event instance shall contain the event Signal</em></li>
<li><a class="el" href="srs-qp_evt.html#SRS_QP_EVT_30">SRS_QP_EVT_30</a>: <em>QP Framework shall allow Application to create event instances with <u>Parameters</u> defined by the Application</em></li>
<li><a class="el" href="srs-qp_evt.html#SRS_QP_EVT_31">SRS_QP_EVT_31</a>: <em>Event abstraction may contain other data items for internal event management inside QP Framework</em> </li>
</ul>
</td></tr>
<tr>
<td><p class="starttd"><b>Forward Traceability (truncated to 2 level(s))</b><br  />
</p>
<ul>
<li><a class="el" href="struct_q_evt.html">QEvt</a>: <em>Event class</em><ul>
<li><a class="el" href="struct_q_evt.html#a20b1ceebb91aea39fcbc633aeae6cd3f">QEvt::sig</a>: <em>Signal of the event (see <a class="el" href="srs-qp_evt.html#srs-qp_evt-sig">Event Signal</a>)</em></li>
<li><a class="el" href="struct_q_evt.html#a877dd7cab201e3fa2fe957ab36a18f2a">QEvt::refCtr_</a>: <em>Event reference counter.</em></li>
<li>QEvt::evtTag_: <em>Event "tag" contains pool-ID plus the Duplicate Inverted Storage of the <a class="el" href="struct_q_evt.html#a877dd7cab201e3fa2fe957ab36a18f2a" title="Event reference counter.">QEvt::refCtr_</a></em></li>
<li><a class="el" href="struct_q_evt.html#a4a453077f1796e528b67d662d7326886">QEvt::QEvt_init()</a>: <em>Event without parameters initialization</em> </li>
</ul>
</li>
</ul>
</td></tr>
</table>
<p><a id="a130_SDS_5FQP_5FQAsm" name="a130_SDS_5FQP_5FQAsm"></a> </p>
<h2><a class="anchor" id="SDS_QP_QAsm"></a>
SDS_QP_QAsm</h2>
<table class="doxtable">
<tr>
<td style="text-align:left; width:var(--content-maxwidth)"><p class="starttd"><b>SDS_QP_QAsm</b>: <em><a class="el" href="struct_q_asm.html" title="Abstract State Machine class (state machine interface)">QAsm</a> Abstract state machine class.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><p class="starttd"><b>Description</b><br  />
</p>
<p class="endtd">The <a class="el" href="struct_q_asm.html" title="Abstract State Machine class (state machine interface)">QAsm</a> class (see <a class="el" href="#sds-qp_fig-cls">Figure SDS-CLS [12]</a>) is the abstract base class (ABC) for all <a class="el" href="srs-qp_sm.html">state machines</a> in QP Framework. The <a class="el" href="struct_q_asm.html" title="Abstract State Machine class (state machine interface)">QAsm</a> class specifies the abstract state machine interface. </p>
</td></tr>
<tr>
<td><p class="starttd"><b>State Machine Interface</b><br  />
</p>
<p class="endtd">The state machine interface defined in the <a class="el" href="struct_q_asm.html" title="Abstract State Machine class (state machine interface)">QAsm</a> class consists of:</p><ul>
<li><code>init()</code> operation executes the top-most initial transition. It must be executed only once.</li>
<li><code>dispatch()</code> operation dispatches a given even to the state machine for RTC processing. It must be executed for every event.</li>
<li><code>isIn()</code> (is in-state) operation returns 'true' if the state machine is-in the given state. Note that being "in-a-state" means also being in all the superstates of that state. </li>
</ul>
</td></tr>
<tr>
<td><p class="starttd"><b>State Machine Attributes</b><br  />
</p>
<ul>
<li><a class="el" href="srs-qp_sm.html#srs-qp_sm-curr">current state</a> (state variable): stores the current state of the state machine.</li>
<li>temporary attribute: stores transition target during a state transition. Also used to implement the Safety Function described below. </li>
</ul>
</td></tr>
<tr>
<td><p class="starttd"><b>Safety Function</b><br  />
</p>
<p class="endtd">In the stable state configuration (between the RTC steps) the subclasses of <a class="el" href="struct_q_asm.html" title="Abstract State Machine class (state machine interface)">QAsm</a> use the temporary attribute for the Duplicate Inverse Storage of the <a class="el" href="struct_q_asm.html#aac097232bc1532d888d56db890229947" title="Current state (pointer to the current state-handler function)">QAsm::state</a> attribute. </p>
</td></tr>
<tr>
<td><p class="starttd"><b>Backward Traceability</b><br  />
</p>
<ul>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_00">SRS_QP_SM_00</a>: <em>QP Framework shall provide support for hierarchical state machines both for Active Objects and for passive event-driven objects in the Application</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_10">SRS_QP_SM_10</a>: <em>QP Framework shall support multiple and interchangeable State Machine Implementation Strategies</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_25">SRS_QP_SM_25</a>: <em>All State Machine Implementation Strategies provided by QP Framework might supply a method for checking if a state machine is in a given state</em> </li>
</ul>
</td></tr>
<tr>
<td><p class="starttd"><b>Forward Traceability (truncated to 2 level(s))</b><br  />
</p>
<ul>
<li><a class="el" href="struct_q_asm.html">QAsm</a>: <em>Abstract State Machine class (state machine interface)</em><ul>
<li><a class="el" href="struct_q_asm.html#a0f26442c57ef719660d55a7f32a2d0fe">QAsm::vptr</a>: <em>Virtual pointer inherited by all <a class="el" href="struct_q_asm.html" title="Abstract State Machine class (state machine interface)">QAsm</a> subclasses (see also <a class="el" href="index.html#over_oop">Object Orientation</a>)</em></li>
<li><a class="el" href="struct_q_asm.html#ac2276f6f26281dc71979c334624e5cd4">QAsm::temp</a>: <em>Temporary storage for target/act-table etc.</em></li>
<li><a class="el" href="struct_q_asm.html#af2dbfd741b2ad53d9830ac7aaa168a1d">QAsm::QAsm_ctor()</a>: <em>Constructor of the <a class="el" href="struct_q_asm.html" title="Abstract State Machine class (state machine interface)">QAsm</a> base class</em> </li>
</ul>
</li>
</ul>
</td></tr>
</table>
<p><a id="a131_SDS_5FQP_5FQHsm" name="a131_SDS_5FQP_5FQHsm"></a> </p>
<h2><a class="anchor" id="SDS_QP_QHsm"></a>
SDS_QP_QHsm</h2>
<table class="doxtable">
<tr>
<td style="text-align:left; width:var(--content-maxwidth)"><p class="starttd"><b>SDS_QP_QHsm</b>: <em><a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> State machine class.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><p class="starttd"><b>Description</b><br  />
</p>
<p class="endtd">The <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> class (see <a class="el" href="#sds-qp_fig-cls">Figure SDS-CLS [13]</a>) derived from <a class="el" href="struct_q_asm.html" title="Abstract State Machine class (state machine interface)">QAsm</a> implements the <b>state machine interface</b> <code>init()</code> and <code>dispatch()</code> according to the <a class="el" href="srs-qp_sm.html#SRS_QP_SM_20">State Machine Implementation Strategy optimized for manual coding</a>. <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> provides support for hierarchical nesting of states, entry/exit actions, initial transitions, and transitions to history in any composite state. This class is designed for ease of manual coding, but it is also supported by the <a href="https://www.state-machine.com/qm" target="_blank" rel="noopener">QM modeling and code-generation tool&uarr;</a>. </p>
</td></tr>
<tr>
<td><p class="starttd"><b>Safety Function</b><br  />
</p>
<p class="endtd">The <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> class implements the Fixed Loop Bound technique for all not explicitly terminated loops. This prevents malformed <a class="el" href="srs-qp_sm.html#srs-qp_sm-spec">state machines specifications</a> (from the QP Application layer) to "hang" or crash the event processor. </p>
</td></tr>
<tr>
<td><p class="starttd"><b>Backward Traceability</b><br  />
</p>
<ul>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_20">SRS_QP_SM_20</a>: <em>QP Framework shall provide a State Machine Implementation Strategy optimized for "manual coding"</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_22">SRS_QP_SM_22</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall be bidirectionally traceable</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_23">SRS_QP_SM_23</a>: <em>QP Framework shall ensure that the <u>current event</u> does not change and is accessible to the state machine implementation over the entire RTC step.</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_24">SRS_QP_SM_24</a>: <em>All State Machine Implementation Strategies provided by QP shall allow Applications to easily access the <u>instance variables</u> associated with a given state machine object</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_30">SRS_QP_SM_30</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>hierarchical state machines</u> with features specified in the sub-requirements SRS_QP_SM_3x</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_31">SRS_QP_SM_31</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>states</u> capable of holding hierarchically nested substates</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_32">SRS_QP_SM_32</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>entry actions</u> to states</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_33">SRS_QP_SM_33</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>exit actions</u> from states</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_34">SRS_QP_SM_34</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>nested initial transitions</u> in composite states</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_35">SRS_QP_SM_35</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>transitions</u> between states at any level of nesting</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_36">SRS_QP_SM_36</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>internal transitions</u> in states</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_37">SRS_QP_SM_37</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>guard conditions</u> to be attached to regular and internal transitions</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_38">SRS_QP_SM_38</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>top-most initial transition</u> that shall be explicitly triggered independently from instantiation of the state machine object</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_39">SRS_QP_SM_39</a>: <em>All State Machine Implementation Strategies provided by QP Framework should support <u>transitions to history</u>. Both shallow and deep histories shall be supported</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_40">SRS_QP_SM_40</a>: <em>State Machine Implementation Strategies provided by QP Framework might supply the <u>top-state</u></em> </li>
</ul>
</td></tr>
<tr>
<td><p class="starttd"><b>Forward Traceability (truncated to 2 level(s))</b><br  />
</p>
<ul>
<li><a class="el" href="struct_q_hsm.html">QHsm</a>: <em>Hierarchical State Machine class (QHsm-style state machine implementation strategy)</em><ul>
<li><a class="el" href="struct_q_hsm.html#ac7ee65ede9bc841b7b1c4564e13b084d">QHsm::QHsm_ctor()</a>: <em>Constructor of the <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> base class</em></li>
<li><a class="el" href="struct_q_hsm.html#ae69df28aa99b6f9db31a0499e5a52622">QHsm::QHsm_init_()</a>: <em>Implementation of the top-most initial transition in <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a></em></li>
<li><a class="el" href="struct_q_hsm.html#ad12cecce72796450bb7aa75d3af5b305">QHsm::QHsm_dispatch_()</a>: <em>Implementation of dispatching events to a <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a></em></li>
<li><a class="el" href="struct_q_hsm.html#adf9190274fb93b156a6074cd75b81ed5">QHsm::QHsm_isIn_()</a>: <em>Check if a given state is part of the current active state configuration</em></li>
<li><a class="el" href="struct_q_hsm.html#a8b743166d44f6df43568c256b85a6ef4">QHsm::QHsm_state()</a>: <em>Obtain the current active state from a HSM (read only)</em></li>
<li><a class="el" href="struct_q_hsm.html#af03f75d32aa015fb73ed0802813b8fba">QHsm::QHsm_childState()</a>: <em>Obtain the current active child state of a given parent in <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a></em></li>
<li><a class="el" href="struct_q_active.html">QActive</a>: <em>Active object class (based on the <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> implementation strategy)</em> </li>
</ul>
</li>
</ul>
</td></tr>
</table>
<p><a id="a132_SDS_5FQP_5FQMsm" name="a132_SDS_5FQP_5FQMsm"></a> </p>
<h2><a class="anchor" id="SDS_QP_QMsm"></a>
SDS_QP_QMsm</h2>
<table class="doxtable">
<tr>
<td style="text-align:left; width:var(--content-maxwidth)"><p class="starttd"><b>SDS_QP_QMsm</b>: <em><a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a> State machine class.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><p class="starttd"><b>Description</b><br  />
</p>
<p class="endtd">The <a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a> class (<a class="el" href="#sds-qp_fig-cls">Figure SDS-CLS [14]</a>) derived from <a class="el" href="struct_q_asm.html" title="Abstract State Machine class (state machine interface)">QAsm</a> implements the <b>state machine interface</b> <code>init()</code> and <code>dispatch()</code> according to the <a class="el" href="srs-qp_sm.html#SRS_QP_SM_21">State Machine Implementation Strategy optimized for automatic code generation</a>. <a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a> provides support for all hierarchical state machine features listed in <a class="el" href="srs-qp_sm.html#SRS_QP_SM_20">SRS_QP_SM_20</a>. This class is designed for automatic code generation, and <b>requires</b> the <a href="https://www.state-machine.com/qm" target="_blank" rel="noopener">QM modeling and code-generation tool&uarr;</a>. </p>
</td></tr>
<tr>
<td><p class="starttd"><b>Safety Function</b><br  />
</p>
<p class="endtd">The <a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a> class implements the Fixed Loop Bound technique for all not explicitly terminated loops. This prevents malformed <a class="el" href="srs-qp_sm.html#srs-qp_sm-spec">state machines specifications</a> (from the QP Application layer) to "hang" or crash the event processor. </p>
</td></tr>
<tr>
<td><p class="starttd"><b>Backward Traceability</b><br  />
</p>
<ul>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_21">SRS_QP_SM_21</a>: <em>QP Framework should provide a State Machine Implementation Strategy optimized for "automatic code generation"</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_22">SRS_QP_SM_22</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall be bidirectionally traceable</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_23">SRS_QP_SM_23</a>: <em>QP Framework shall ensure that the <u>current event</u> does not change and is accessible to the state machine implementation over the entire RTC step.</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_24">SRS_QP_SM_24</a>: <em>All State Machine Implementation Strategies provided by QP shall allow Applications to easily access the <u>instance variables</u> associated with a given state machine object</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_30">SRS_QP_SM_30</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>hierarchical state machines</u> with features specified in the sub-requirements SRS_QP_SM_3x</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_31">SRS_QP_SM_31</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>states</u> capable of holding hierarchically nested substates</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_32">SRS_QP_SM_32</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>entry actions</u> to states</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_33">SRS_QP_SM_33</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>exit actions</u> from states</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_34">SRS_QP_SM_34</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>nested initial transitions</u> in composite states</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_35">SRS_QP_SM_35</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>transitions</u> between states at any level of nesting</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_36">SRS_QP_SM_36</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>internal transitions</u> in states</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_37">SRS_QP_SM_37</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>guard conditions</u> to be attached to regular and internal transitions</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_38">SRS_QP_SM_38</a>: <em>All State Machine Implementation Strategies provided by QP Framework shall support <u>top-most initial transition</u> that shall be explicitly triggered independently from instantiation of the state machine object</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_39">SRS_QP_SM_39</a>: <em>All State Machine Implementation Strategies provided by QP Framework should support <u>transitions to history</u>. Both shallow and deep histories shall be supported</em></li>
<li><a class="el" href="srs-qp_sm.html#SRS_QP_SM_40">SRS_QP_SM_40</a>: <em>State Machine Implementation Strategies provided by QP Framework might supply the <u>top-state</u></em> </li>
</ul>
</td></tr>
<tr>
<td><p class="starttd"><b>Forward Traceability (truncated to 2 level(s))</b><br  />
</p>
<ul>
<li><a class="el" href="struct_q_msm.html">QMsm</a>: <em>Hierarchical State Machine class (QMsm-style state machine implementation strategy)</em><ul>
<li><a class="el" href="struct_q_msm.html#a57578662c996e851abfca288095c66ec">QMsm::QMsm_init_()</a>: <em>Implementation of the top-most initial transition in <a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a></em></li>
<li><a class="el" href="struct_q_msm.html#ace7c7d95fb8b61a04392dc6a58e19add">QMsm::QMsm_dispatch_()</a>: <em>Implementation of dispatching events to a <a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a></em></li>
<li><a class="el" href="struct_q_msm.html#aa06eca195b3ef17e2c47c623a9c2cc3c">QMsm::QMsm_isIn_()</a>: <em>Tests if a given state is part of the current active state configuration</em></li>
<li><a class="el" href="struct_q_msm.html#a9cbe8c780a42ee24df328c3e424a4fb1">QMsm::QMsm_getStateHandler_()</a>: <em>Implementation of getting the state handler in a <a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a> subclass</em></li>
<li><a class="el" href="struct_q_msm.html#ab00fb4ad92ffa3078d8ea589424aacfe">QMsm::QMsm_stateObj()</a>: <em>Obtain the current state from a MSM (read only)</em></li>
<li><a class="el" href="struct_q_msm.html#ab1fc69e61fc0b02272454d2083742a01">QMsm::QMsm_childStateObj()</a>: <em>Obtain the current active child state of a given parent in <a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a></em></li>
<li><a class="el" href="struct_q_msm.html#ae3734745028e390aa776e2b59c5716c8">QMsm::QMsm_ctor()</a>: <em>Constructor of <a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a></em></li>
<li><a class="el" href="struct_q_msm.html#a6ff149ccff88b2c95397ad95d0cffe0c">QMsm::QMsm_execTatbl_()</a>: <em>Execute transition-action table</em></li>
<li><a class="el" href="struct_q_msm.html#a2ef7b4f64ac958ca4acabfeeffe75f71">QMsm::QMsm_exitToTranSource_()</a>: <em>Exit the current state up to the explicit transition source</em></li>
<li><a class="el" href="struct_q_msm.html#a1c52fe122a207dded015e527e096da0f">QMsm::QMsm_enterHistory_()</a>: <em>Enter history of a composite state</em></li>
<li><a class="el" href="struct_q_m_active.html">QMActive</a>: <em>Active object class (based on <a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a> implementation strategy)</em> </li>
</ul>
</li>
</ul>
</td></tr>
</table>
<p><a id="a133_SDS_5FQP_5FQActive" name="a133_SDS_5FQP_5FQActive"></a> </p>
<h2><a class="anchor" id="SDS_QP_QActive"></a>
SDS_QP_QActive</h2>
<table class="doxtable">
<tr>
<td style="text-align:left; width:var(--content-maxwidth)"><p class="starttd"><b>SDS_QP_QActive</b>: <em><a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> Active Object class.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><p class="starttd"><b>Description</b><br  />
</p>
<p class="endtd">The <a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> class (<a class="el" href="#sds-qp_fig-cls">Figure SDS-CLS [23]</a>) is a base class for derivation of concrete Active Objects in the QP Application. <a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> inherits <a class="el" href="struct_q_asm.html" title="Abstract State Machine class (state machine interface)">QAsm</a>, which means that an Active Object in QP can be treated as a state machine with the standard interface. <a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> implements this interface by <b>delegating</b> to the <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> state machine implementation. </p>
</td></tr>
<tr>
<td><p class="starttd"><b>Active Object Priority</b><br  />
</p>
<p class="endtd"><a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> owns the unique priority attribute, which must be in range 1..<a class="el" href="qp__config_8h.html#a776d2a032974db4bf9bcfde01ace1389" title="Maximum # Active Objects in the system (1..64)">QF_MAX_ACTIVE</a>, inclusive. </p>
</td></tr>
<tr>
<td><p class="starttd"><b>Event Queue</b><br  />
</p>
<p class="intertd"><a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> owns the event-queue attribute, whose type depends on the underlying real-time kernel. Therefore, the event-queue type is compile-time configurable. When QP is used with one of the built-in kernels (<a class="el" href="struct_q_v.html" title="QV non-preemptive kernel (QV namespace emulated as a &quot;class&quot; in C)">QV</a>, <a class="el" href="struct_q_k.html" title="QK preemptive non-blocking kernel (QK namespace emulated as a &quot;class&quot; in C)">QK</a>, <a class="el" href="class_q_x_k.html" title="QXK dual-mode kernel (QXK namespace emulated as a &quot;class&quot; in C)">QXK</a>), the <a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> event queue is configured to be <a class="el" href="struct_q_e_queue.html" title="Native QF Event Queue.">QEQueue</a>. However, when QP Framework runs on a 3rd-party RTOS, typically the RTOS' message queue is adapted as an event queue.</p>
<dl class="section remark"><dt>Remarks</dt><dd>The event queue for Active Objects requires multiple-write, but only single-read capability. Also, blocking the queue is only required when event-queue is empty but not when it is full. Finally, the Active Object queue in QP Framework passes only <em>pointers</em> to events. Standard RTOS message queues are significantly more complex than required by Active Objects because they typically allow multiple-write as well as multiple-read access and often support variable-length data (not only pointer-sized data). Usually message queues also allow blocking when the queue is empty and when the queue is full, and both types of blocking can be timed out. Naturally, all this extra functionality, which you don't really need in QP Framework, comes at an extra cost in CPU and memory usage.</dd></dl>
</td></tr>
<tr>
<td><p class="starttd"><b>Thread of Execution</b><br  />
</p>
<p class="intertd"><a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> owns the execution thread attribute, whose type depends on the underlying real-time kernel. Therefore, the thread type is compile-time configurable. When QP is used with one of the built-in kernels (<a class="el" href="struct_q_v.html" title="QV non-preemptive kernel (QV namespace emulated as a &quot;class&quot; in C)">QV</a>, <a class="el" href="struct_q_k.html" title="QK preemptive non-blocking kernel (QK namespace emulated as a &quot;class&quot; in C)">QK</a>, <a class="el" href="class_q_x_k.html" title="QXK dual-mode kernel (QXK namespace emulated as a &quot;class&quot; in C)">QXK</a>), the <a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> thread attribute isn't really needed and is used to hold MPU settings. However, when QP Framework runs on a 3rd-party RTOS, the <a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> thread attribute holds the RTOS thread.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><p class="starttd"><b>OS Object</b><br  />
</p>
<p class="intertd">The "operating system object" attribute is</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><p class="starttd"><b>Backward Traceability</b><br  />
</p>
<ul>
<li><a class="el" href="sas-qp_ctxt.html#SAS_QP_FRM">SAS_QP_FRM</a>: <em>QP Framework layer</em> </li>
</ul>
</td></tr>
<tr>
<td><p class="starttd"><b>Forward Traceability (truncated to 2 level(s))</b><br  />
</p>
<ul>
<li><a class="el" href="struct_q_active.html">QActive</a>: <em>Active object class (based on the <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> implementation strategy)</em><ul>
<li><a class="el" href="struct_q_active.html#a868d532829e38dfe94b3a0593b9861eb">QActive::eQueue</a>: <em>Port-dependent event-queue type (often <a class="el" href="struct_q_e_queue.html" title="Native QF Event Queue.">QEQueue</a>)</em></li>
<li><a class="el" href="struct_q_active.html#a1a5e96a7dae9aeb92931bc13b996f956">QActive::thread</a>: <em>Port-dependent representation of the thread of the active object</em></li>
<li><a class="el" href="struct_q_active.html#acc0b27a6740f03639727be452f1e6b83">QActive::prio</a>: <em>QF-priority [1..<a class="el" href="qp__config_8h.html#a776d2a032974db4bf9bcfde01ace1389" title="Maximum # Active Objects in the system (1..64)">QF_MAX_ACTIVE</a>] of this AO</em></li>
<li><a class="el" href="struct_q_active.html#afa3b46e6f8caec240fa3292121e74535">QActive::pthre</a>: <em>Preemption-threshold [1..<a class="el" href="qp__config_8h.html#a776d2a032974db4bf9bcfde01ace1389" title="Maximum # Active Objects in the system (1..64)">QF_MAX_ACTIVE</a>] of this AO</em></li>
<li><a class="el" href="struct_q_active.html#a46598ffb8ff47458b05ffb37b6bf55a1">QActive::QActive_ctor()</a>: <em><a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> constructor (abstract base class)</em></li>
<li><a class="el" href="struct_q_active.html#ae400eefb2c5d0a186f10864d60833751">QActive::QActive_start()</a>: <em>Starts execution of an active object and registers the object with the framework</em></li>
<li><a class="el" href="struct_q_active.html#aba82a935c94a8c3cf9b062eed5fc85e5">QActive::QActive_stop()</a>: <em>Stops execution of an active object and removes it from the framework's supervision</em></li>
<li><a class="el" href="struct_q_active.html#a1a81b9fd06d9c0aa5dea32d194f0552b">QActive::QActive_post_()</a>: <em>Posts an event <code>e</code> directly to the event queue of the active object using the First-In-First-Out (FIFO) policy</em></li>
<li><a class="el" href="struct_q_active.html#a3a129f47e6d0c75c11a8902f8137f007">QActive::QActive_postLIFO_()</a>: <em>Posts an event <code>e</code> directly to the event queue of the active object using the Last-In-First-Out (LIFO) policy</em></li>
<li><a class="el" href="struct_q_active.html#a20693c3fc2f026fd61539f4a6a81716e">QActive::QActive_get_()</a>: <em>Get an event from the event queue of an active object</em></li>
<li><a class="el" href="struct_q_active.html#ae2510a52f1185e2561fa78323983c04d">QActive::QActive_subscribe()</a>: <em>Subscribes for delivery of signal <code>sig</code> to the active object</em></li>
<li><a class="el" href="struct_q_active.html#a0cf08b1345a60cb4cd2d580f448f819d">QActive::QActive_unsubscribe()</a>: <em>Unsubscribes from the delivery of signal <code>sig</code> to the active object</em></li>
<li><a class="el" href="struct_q_active.html#aec64ea18ec1909aa5ce20ca1c154bea4">QActive::QActive_unsubscribeAll()</a>: <em>Unsubscribes from the delivery of all signals to the active object</em></li>
<li><a class="el" href="struct_q_active.html#aeeb00d37acac676bd6652bf59dc6c2b8">QActive::QActive_psInit()</a>: <em>Publish event to all subscribers of a given signal <code>e-&gt;sig</code></em></li>
<li><a class="el" href="struct_q_active.html#a892d39d181cc0f0b053669d6b7c5b4bb">QActive::QActive_publish_()</a>: <em>Publish event to all subscribers of a given signal <code>e-&gt;sig</code></em></li>
<li><a class="el" href="struct_q_active.html#a47e15fa0387c3b3e2d6336a78cae5d27">QActive::QActive_defer()</a>: <em>Defer an event to a given separate event queue</em></li>
<li><a class="el" href="struct_q_active.html#afeabd4636396ef62f08f0df2da9546b4">QActive::QActive_evtLoop_()</a>: <em>Event loop thread routine for executing an active object <code>act</code> (defined some in QP ports)</em></li>
<li><a class="el" href="struct_q_active.html#abe6de335bea204db67cbd96fbb988f2b">QActive::QActive_register_()</a>: <em>Register this active object to be managed by the framework</em></li>
<li><a class="el" href="struct_q_active.html#a16aba45c83211a8edc065662345e8a8e">QActive::QActive_unregister_()</a>: <em>Un-register the active object from the framework</em></li>
<li><a class="el" href="struct_q_active.html#a0774b56a9ec66bf84732cf56b962fdb3">QActive::QActive_subscrList_</a>: <em>Static (one per-class) pointer to all subscriber AOs for a given event signal</em></li>
<li><a class="el" href="qp_8h.html#ab7c56990d949c8708e3fe2b737f2e65c">QACTIVE_POST</a>: <em>Invoke the direct event posting facility <a class="el" href="struct_q_active.html#a1a81b9fd06d9c0aa5dea32d194f0552b">QActive_post_()</a></em></li>
<li><a class="el" href="qp_8h.html#a766856b24aa5163b7ca90bc3432f1e3e">QACTIVE_POST_X</a>: <em>Invoke the direct event posting facility <a class="el" href="struct_q_active.html#a1a81b9fd06d9c0aa5dea32d194f0552b">QActive_post_()</a> without delivery guarantee</em></li>
<li><a class="el" href="qp_8h.html#a2f94b69fa7148180c19d501ce2ee7032">QACTIVE_POST_LIFO</a>: <em>Post an event to an active object using the Last-In-First-Out (LIFO) policy</em></li>
<li><a class="el" href="qp_8h.html#a32dec12ccbc2d0803ff76c7a06613b6b">QACTIVE_PUBLISH</a>: <em>Publish an event to all subscriber Active Objects</em> </li>
</ul>
</li>
</ul>
</td></tr>
</table>
<p><a id="a134_SDS_5FQP_5FQMctive" name="a134_SDS_5FQP_5FQMctive"></a> </p>
<h2><a class="anchor" id="SDS_QP_QMctive"></a>
SDS_QP_QMctive</h2>
<table class="doxtable">
<tr>
<td style="text-align:left; width:var(--content-maxwidth)"><p class="starttd"><b>SDS_QP_QMctive</b>: <em>QMctive Active Object class.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><p class="starttd"><b>Description</b><br  />
</p>
<p class="endtd">The <a class="el" href="struct_q_m_active.html" title="Active object class (based on QMsm implementation strategy)">QMActive</a> class (<a class="el" href="#sds-qp_fig-cls">Figure SDS-CLS [24]</a>) derives from <a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> base class, so it inherits all its properties. The only difference is that, <a class="el" href="struct_q_m_active.html" title="Active object class (based on QMsm implementation strategy)">QMActive</a> implements the state machine interface by <b>delegating</b> to the <a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a> state machine implementation. </p>
</td></tr>
<tr>
<td><p class="starttd"><b>Backward Traceability</b><br  />
</p>
<ul>
<li><a class="el" href="sas-qp_ctxt.html#SAS_QP_FRM">SAS_QP_FRM</a>: <em>QP Framework layer</em> </li>
</ul>
</td></tr>
<tr>
<td><p class="starttd"><b>Forward Traceability (truncated to 2 level(s))</b><br  />
</p>
<p class="endtd"></p>
</td></tr>
</table>
<p><a id="a135_SDS_5FQP_5FQTimeEvt" name="a135_SDS_5FQP_5FQTimeEvt"></a> </p>
<h2><a class="anchor" id="SDS_QP_QTimeEvt"></a>
SDS_QP_QTimeEvt</h2>
<table class="doxtable">
<tr>
<td style="text-align:left; width:var(--content-maxwidth)"><p class="starttd"><b>SDS_QP_QTimeEvt</b>: <em><a class="el" href="struct_q_time_evt.html" title="Time Event class.">QTimeEvt</a> time event class.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><p class="starttd"><b>Description</b><br  />
</p>
<p class="endtd">The <a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> class (<a class="el" href="#sds-qp_fig-cls">Figure SDS-CLS [23]</a>) is a base class for derivation of concrete Active Objects in the QP Application. <a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> encapsulates the unique priority, event-queue, execution context, and state machine for the Active Object. <a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> inherits <a class="el" href="struct_q_asm.html" title="Abstract State Machine class (state machine interface)">QAsm</a>, which means that an Active Object in QP can be treated as a state machine with the standard interface. <a class="el" href="struct_q_active.html" title="Active object class (based on the QHsm implementation strategy)">QActive</a> implements this interface by <b>delegating</b> to the <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> state machine implementation. </p>
</td></tr>
<tr>
<td><p class="starttd"><b>Backward Traceability</b><br  />
</p>
<ul>
<li><a class="el" href="sas-qp_ctxt.html#SAS_QP_FRM">SAS_QP_FRM</a>: <em>QP Framework layer</em> </li>
</ul>
</td></tr>
<tr>
<td><p class="starttd"><b>Forward Traceability (truncated to 2 level(s))</b><br  />
</p>
<ul>
<li><a class="el" href="struct_q_time_evt.html">QTimeEvt</a>: <em>Time Event class</em><ul>
<li><a class="el" href="struct_q_time_evt.html#a0af89bee26e0c6f89e7006904bb27c2c">QTimeEvt::next</a>: <em>Link to the next time event in the list</em></li>
<li><a class="el" href="struct_q_time_evt.html#a139b8ef35b103acac907b2aa14a00fc7">QTimeEvt::ctr</a>: <em>Down-counter of the time event</em></li>
<li><a class="el" href="struct_q_time_evt.html#a53b3919aabc87ac01af63c60e95ac35d">QTimeEvt::interval</a>: <em>Interval for periodic time event (zero for one-shot time event)</em></li>
<li><a class="el" href="struct_q_time_evt.html#a04b021eb5cf81f1d1700b9ce0afa37a9">QTimeEvt::QTimeEvt_ctorX()</a>: <em>The "extended" constructor to initialize a Time Event</em></li>
<li><a class="el" href="struct_q_time_evt.html#a38eaebe3e8c4b3b748cfcb8f4c015bbe">QTimeEvt::QTimeEvt_armX()</a>: <em>Arm a time event (extended version for one shot or periodic time event)</em></li>
<li><a class="el" href="struct_q_time_evt.html#a9d4bc166d6d02d43fe5621cdd29c5013">QTimeEvt::QTimeEvt_disarm()</a>: <em>Disarm a time event</em></li>
<li><a class="el" href="struct_q_time_evt.html#a7a06a91860718d6d7336ae27090b3b4e">QTimeEvt::QTimeEvt_rearm()</a>: <em>Rearm a time event</em></li>
<li>(<a class="el" href="struct_q_time_evt.html#a972d04658e1c8eec71da5976db433505">QTimeEvt::QTimeEvt_wasDisarmed()</a> "(QTimeEvt::QTimeEvt_wasDisarmed()": <em>Check the "was disarmed" status of a time event</em></li>
<li><a class="el" href="struct_q_time_evt.html#a5d8fc8c4421ae5131408ca74bd8138de">QTimeEvt::QTimeEvt_currCtr()</a>: <em>Get the current value of the down-counter of a time event</em></li>
<li><a class="el" href="struct_q_time_evt.html#a4110381e712227678890d112edc28cf9">QTimeEvt::QTimeEvt_tick_()</a>: <em>Processes all armed time events at every clock tick</em></li>
<li><a class="el" href="struct_q_time_evt.html#a23952668019b883a2be52abd596b5b7b">QTimeEvt::QTimeEvt_tick1_()</a>: <em>Processes one clock tick for QUTest</em></li>
<li><a class="el" href="struct_q_time_evt.html#a1c6b4144dd26a56d3c65a18bc3a9e640">QTimeEvt::QTimeEvt_noActive()</a>: <em>Check if any time events are active at a given clock tick rate</em></li>
<li><a class="el" href="struct_q_time_evt.html#a71c07dee57190686b92ff6f3382d985a">QTimeEvt::QTimeEvt_timeEvtHead_()</a>: <em>Array of heads of linked lists of time events (one for every clock tick rate)</em></li>
<li><a class="el" href="qp_8h.html#ad432c2e25e5d6aa8e818159f33c16542">QTIMEEVT_TICK_X</a>: <em>Invoke the system clock tick processing QTimeEvt_tick_()</em> </li>
</ul>
</li>
</ul>
</td></tr>
</table>
<p><span class="prev_button"><a class="el" href="sds-qp.html#sds-qp_scope">Purpose and Scope</a></span><span class="next_button"><a class="el" href="sds-qp_inter.html">Interaction Viewpoint</a></span>   </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="sds-qp.html">Software Design Specification</a></li>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2025 Quantum Leaps</a> &nbsp;|&nbsp; <a title="help" href="help.html">Using Online Help</a> &nbsp;|&nbsp; <b>QP/C 8.0.2</b> &nbsp;|&nbsp; created with <a title="Spexygen: traceable specifications" href="https://github.com/QuantumLeaps/spexygen"><em>Spexygen</em></a>
<hr class="footer"/><address class="footer"><small>
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2025 Quantum Leaps</a> &nbsp;|&nbsp; <a title="help" href="help.html">Using Online Help</a> &nbsp;|&nbsp; <b>QP/C 8.0.2</b> &nbsp;|&nbsp; created with <a title="Spexygen: traceable specifications" href="https://github.com/QuantumLeaps/spexygen"><em>Spexygen</em></a>
</small></address>
    </li>
  </ul>
</div>
</body>
</html>
